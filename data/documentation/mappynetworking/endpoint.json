{"primaryContentSections":[{"kind":"declarations","declarations":[{"tokens":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"Endpoint"},{"kind":"text","text":"<"},{"kind":"genericParameter","text":"Host"},{"kind":"text","text":", "},{"kind":"genericParameter","text":"Kind"},{"kind":"text","text":", "},{"kind":"genericParameter","text":"Response"},{"kind":"text","text":"> "},{"kind":"keyword","text":"where"},{"kind":"text","text":" "},{"kind":"typeIdentifier","text":"Host"},{"kind":"text","text":" : "},{"kind":"typeIdentifier","identifier":"doc:\/\/com.mappy.MappyNetworking\/documentation\/MappyNetworking\/EndpointHost","preciseIdentifier":"s:15MappyNetworking12EndpointHostP","text":"EndpointHost"},{"kind":"text","text":", "},{"kind":"typeIdentifier","text":"Kind"},{"kind":"text","text":" : "},{"kind":"typeIdentifier","identifier":"doc:\/\/com.mappy.MappyNetworking\/documentation\/MappyNetworking\/EndpointKind","preciseIdentifier":"s:15MappyNetworking12EndpointKindP","text":"EndpointKind"}],"languages":["swift"],"platforms":["iOS"]}]},{"kind":"content","content":[{"anchor":"Implementation-exemple","level":2,"type":"heading","text":"Implementation exemple"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Here is a exemple of of a custom implementation where the user needed a service to retrieve feedItems with a private endpoint passing a token."}]},{"type":"codeListing","syntax":"swift","code":["","extension Endpoint where Host == MyDomainHost,","                         Kind == EndpointKinds.Private,","                         Response == [FeedItem] {","    ","    static func getFeedItems(limit: Int = 25) -> Self {","        return Endpoint(path: Host.feedItemsPath,","                        httpMethod: .get,","                        queryItems: [URLQueryItem(name: \"limit\", value: \"\\(limit)\")])","    }","    ","}","","struct MyDomainHost: EndpointHost {","    static var host: String {","        return \"mydomain.com\"","    }","    ","    static var feedItemsPath: String {","        return \"items\"","    }","    ","}","","extension EndpointKinds {","    enum Private: EndpointKind {","        typealias RequestData = String","        typealias ResponseData = ()","        ","        static func prepare(_ request: inout URLRequest, with inputData: String) {","            request.addValue(inputData, forHTTPHeaderField: \"auth\")","        }","        ","        static func process(_ outputData: (),","                            with requestResponse: (response: HTTPURLResponse, data: Data)) {","            \/\/ Pre-process incoming data here.","        }","","    }","}","","struct FeedItem: Codable {","    var title: String","    var created: Date","}","","class Service {","    ","    var token: String = \"mytokenstring\"","    ","    func getFeedItems() {","        ","        URLSession.shared.taskRequest(for: .getFeedItems(limit: 50),","                                         using: token ,","                                         decoder: JSONDecoder()) { result in","            switch result {","            case .success(let items):","                print(\"Items retrieved: \\(items.count)\")","                break","            case .failure(let error):","                print(error.localizedDescription)","                break","            }","        }","        ","    }","    ","}",""]}]}],"schemaVersion":{"major":0,"minor":3,"patch":0},"sections":[],"variants":[{"paths":["\/documentation\/mappynetworking\/endpoint"],"traits":[{"interfaceLanguage":"swift"}]}],"identifier":{"url":"doc:\/\/com.mappy.MappyNetworking\/documentation\/MappyNetworking\/Endpoint","interfaceLanguage":"swift"},"abstract":[{"type":"text","text":"Endpoint is constructed with phantom types and requires the user to specify an "},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.mappy.MappyNetworking\/documentation\/MappyNetworking\/EndpointHost"},{"type":"text","text":", and "},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.mappy.MappyNetworking\/documentation\/MappyNetworking\/EndpointKind"},{"type":"text","text":"and a Response."},{"type":"text","text":" "},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.mappy.MappyNetworking\/documentation\/MappyNetworking\/EndpointHost"},{"type":"text","text":" will be used to construct the acutal URL. Kind specifies how the users wants the endpoint to operate,"},{"type":"text","text":" "},{"type":"text","text":"it provides a chance to perform some specific configuration or processing. Response specifies the expected response type."}],"kind":"symbol","metadata":{"fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"Endpoint"}],"title":"Endpoint","roleHeading":"Structure","role":"symbol","symbolKind":"struct","externalID":"s:15MappyNetworking8EndpointV","modules":[{"name":"MappyNetworking"}],"navigatorTitle":[{"kind":"identifier","text":"Endpoint"}]},"hierarchy":{"paths":[["doc:\/\/com.mappy.MappyNetworking\/documentation\/MappyNetworking"]]},"topicSections":[{"title":"Initializers","identifiers":["doc:\/\/com.mappy.MappyNetworking\/documentation\/MappyNetworking\/Endpoint\/init(host:path:httpMethod:queryItems:)","doc:\/\/com.mappy.MappyNetworking\/documentation\/MappyNetworking\/Endpoint\/init(path:httpMethod:queryItems:)"]}],"references":{"doc://com.mappy.MappyNetworking/documentation/MappyNetworking/Endpoint/init(path:httpMethod:queryItems:)":{"role":"symbol","title":"init(path:httpMethod:queryItems:)","fragments":[{"kind":"identifier","text":"init"},{"kind":"text","text":"("},{"kind":"externalParam","text":"path"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"String","preciseIdentifier":"s:SS"},{"kind":"text","text":", "},{"kind":"externalParam","text":"httpMethod"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"HTTPMethod","preciseIdentifier":"s:15MappyNetworking10HTTPMethodO"},{"kind":"text","text":", "},{"kind":"externalParam","text":"queryItems"},{"kind":"text","text":": ["},{"kind":"typeIdentifier","text":"URLQueryItem","preciseIdentifier":"s:10Foundation12URLQueryItemV"},{"kind":"text","text":"]?)"}],"abstract":[],"identifier":"doc:\/\/com.mappy.MappyNetworking\/documentation\/MappyNetworking\/Endpoint\/init(path:httpMethod:queryItems:)","kind":"symbol","type":"topic","url":"\/documentation\/mappynetworking\/endpoint\/init(path:httpmethod:queryitems:)"},"doc://com.mappy.MappyNetworking/documentation/MappyNetworking":{"role":"collection","title":"MappyNetworking","abstract":[{"type":"text","text":"Welcome to MappyNetwork documentation."}],"identifier":"doc:\/\/com.mappy.MappyNetworking\/documentation\/MappyNetworking","kind":"symbol","type":"topic","url":"\/documentation\/mappynetworking"},"doc://com.mappy.MappyNetworking/documentation/MappyNetworking/Endpoint":{"role":"symbol","title":"Endpoint","fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"Endpoint"}],"abstract":[{"type":"text","text":"Endpoint is constructed with phantom types and requires the user to specify an "},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.mappy.MappyNetworking\/documentation\/MappyNetworking\/EndpointHost"},{"type":"text","text":", and "},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.mappy.MappyNetworking\/documentation\/MappyNetworking\/EndpointKind"},{"type":"text","text":"and a Response."},{"type":"text","text":" "},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.mappy.MappyNetworking\/documentation\/MappyNetworking\/EndpointHost"},{"type":"text","text":" will be used to construct the acutal URL. Kind specifies how the users wants the endpoint to operate,"},{"type":"text","text":" "},{"type":"text","text":"it provides a chance to perform some specific configuration or processing. Response specifies the expected response type."}],"identifier":"doc:\/\/com.mappy.MappyNetworking\/documentation\/MappyNetworking\/Endpoint","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"Endpoint"}],"url":"\/documentation\/mappynetworking\/endpoint"},"doc://com.mappy.MappyNetworking/documentation/MappyNetworking/EndpointKind":{"role":"symbol","title":"EndpointKind","fragments":[{"kind":"keyword","text":"protocol"},{"kind":"text","text":" "},{"kind":"identifier","text":"EndpointKind"}],"abstract":[{"type":"text","text":"Implements two methods offering the opportunity to modify the netwok request"},{"type":"text","text":" "},{"type":"text","text":"before and to retrieve info from the response header."}],"identifier":"doc:\/\/com.mappy.MappyNetworking\/documentation\/MappyNetworking\/EndpointKind","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"EndpointKind"}],"url":"\/documentation\/mappynetworking\/endpointkind"},"doc://com.mappy.MappyNetworking/documentation/MappyNetworking/EndpointHost":{"role":"symbol","title":"EndpointHost","fragments":[{"kind":"keyword","text":"protocol"},{"kind":"text","text":" "},{"kind":"identifier","text":"EndpointHost"}],"abstract":[{"type":"text","text":"When creating a new endpoint you will be requiered to provide an object conforming to "},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.mappy.MappyNetworking\/documentation\/MappyNetworking\/EndpointHost"},{"type":"text","text":"."},{"type":"text","text":" "},{"type":"text","text":"The conforming object will implement a host method which will later be used to build the URL."}],"identifier":"doc:\/\/com.mappy.MappyNetworking\/documentation\/MappyNetworking\/EndpointHost","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"EndpointHost"}],"url":"\/documentation\/mappynetworking\/endpointhost"},"doc://com.mappy.MappyNetworking/documentation/MappyNetworking/Endpoint/init(host:path:httpMethod:queryItems:)":{"role":"symbol","title":"init(host:path:httpMethod:queryItems:)","fragments":[{"kind":"identifier","text":"init"},{"kind":"text","text":"("},{"kind":"externalParam","text":"host"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"String","preciseIdentifier":"s:SS"},{"kind":"text","text":", "},{"kind":"externalParam","text":"path"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"String","preciseIdentifier":"s:SS"},{"kind":"text","text":", "},{"kind":"externalParam","text":"httpMethod"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"HTTPMethod","preciseIdentifier":"s:15MappyNetworking10HTTPMethodO"},{"kind":"text","text":", "},{"kind":"externalParam","text":"queryItems"},{"kind":"text","text":": ["},{"kind":"typeIdentifier","text":"URLQueryItem","preciseIdentifier":"s:10Foundation12URLQueryItemV"},{"kind":"text","text":"]?)"}],"abstract":[],"identifier":"doc:\/\/com.mappy.MappyNetworking\/documentation\/MappyNetworking\/Endpoint\/init(host:path:httpMethod:queryItems:)","kind":"symbol","type":"topic","url":"\/documentation\/mappynetworking\/endpoint\/init(host:path:httpmethod:queryitems:)"}}}