{"variants":[{"paths":["\/tutorials\/mappynetworking\/createnewendpoint"],"traits":[{"interfaceLanguage":"swift"}]}],"schemaVersion":{"major":0,"minor":3,"patch":0},"sections":[{"kind":"hero","title":"Add new end points to your project","chapter":"Adding endpoints","estimatedTimeInMinutes":20,"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"In this tutorial we will pretend we need to implement a new end point to retrieve an array of FeedItems used to populate a social network feed. Since the feed is only accessible to logged-in members we need a way to make secured calls by passing a token in the request. We also need to be able to specify how many items we want to retrieve."}]}]},{"kind":"tasks","tasks":[{"anchor":"Create-a-new-host","title":"Create a new host","contentSection":[{"kind":"contentAndMedia","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"First step in creating a new endpoint here it to create a Host object conforming to"},{"type":"text","text":" "},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.mappy.MappyNetworking\/documentation\/MappyNetworking\/EndpointHost"},{"type":"text","text":"."}]}],"mediaPosition":"trailing"}],"stepsSection":[{"code":null,"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Let’s first create an object which will hold the required data for constructing the URL"}]}],"caption":[],"type":"step","runtimePreview":null,"media":""},{"code":null,"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Make the object conform the "},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.mappy.MappyNetworking\/documentation\/MappyNetworking\/EndpointHost"},{"type":"text","text":" and add the protocol stubs."}]}],"caption":[],"type":"step","runtimePreview":null,"media":""},{"code":null,"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"We can add static properties to this object for different paths. For instance let’s create a path for retreiving an array of FeedItems."}]}],"caption":[{"type":"paragraph","inlineContent":[{"type":"text","text":"As the app scales-up we might need additionnal path for new end-points. So we could create a path for retrieving subscribers."}]}],"type":"step","runtimePreview":null,"media":""}]},{"anchor":"Create-a-end-point-type-for-secured-network-calls","title":"Create a end-point type for secured network calls","contentSection":[{"kind":"contentAndMedia","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Next we will create a new "},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.mappy.MappyNetworking\/documentation\/MappyNetworking\/EndpointKind"},{"type":"text","text":" because we need to make secured network calls byt passing a token into the request header."}]}],"mediaPosition":"trailing"}],"stepsSection":[{"code":null,"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Add an extension to "},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.mappy.MappyNetworking\/documentation\/MappyNetworking\/EndpointKinds"},{"type":"text","text":"."}]}],"caption":[],"type":"step","runtimePreview":null,"media":""},{"code":null,"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Add an enum conforming to "},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.mappy.MappyNetworking\/documentation\/MappyNetworking\/EndpointKind"},{"type":"text","text":"."}]}],"caption":[],"type":"step","runtimePreview":null,"media":""},{"code":null,"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Add the necessary stubs for the protocol "},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.mappy.MappyNetworking\/documentation\/MappyNetworking\/EndpointKind"},{"type":"text","text":"."},{"type":"text","text":" "},{"type":"text","text":"We need a string as request data. It is the token we pass into the request header."},{"type":"text","text":" "},{"type":"text","text":"We don’t need any object as response data in the "},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.mappy.MappyNetworking\/documentation\/MappyNetworking\/EndpointKind\/process(_:with:)"},{"type":"text","text":" mothod so we pass Void."}]}],"caption":[],"type":"step","runtimePreview":null,"media":""}]},{"anchor":"Create-a-new-end-point","title":"Create a new end-point","contentSection":[{"kind":"contentAndMedia","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Next we will create a new "},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.mappy.MappyNetworking\/documentation\/MappyNetworking\/EndpointKind"},{"type":"text","text":" because we need to make secured network calls byt passing a token into the request header."}]}],"mediaPosition":"trailing"}],"stepsSection":[{"code":null,"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Add an extension to "},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.mappy.MappyNetworking\/documentation\/MappyNetworking\/EndpointKinds"},{"type":"text","text":"."}]}],"caption":[],"type":"step","runtimePreview":null,"media":""},{"code":null,"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Add an enum conforming to "},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.mappy.MappyNetworking\/documentation\/MappyNetworking\/EndpointKind"},{"type":"text","text":"."}]}],"caption":[],"type":"step","runtimePreview":null,"media":""},{"code":null,"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Add the necessary stubs for the protocol "},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.mappy.MappyNetworking\/documentation\/MappyNetworking\/EndpointKind"},{"type":"text","text":"."},{"type":"text","text":" "},{"type":"text","text":"We need a string as request data. It is the token we pass into the request header."},{"type":"text","text":" "},{"type":"text","text":"We don’t need any object as response data in the "},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.mappy.MappyNetworking\/documentation\/MappyNetworking\/EndpointKind\/process(_:with:)"},{"type":"text","text":" mothod so we pass Void."}]}],"caption":[],"type":"step","runtimePreview":null,"media":""}]},{"anchor":"Create-a-service-class-and-make-a-network-call-with-our-new-end-point","title":"Create a service class and make a network call with our new end-point","contentSection":[{"kind":"contentAndMedia","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Next we will create a new "},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.mappy.MappyNetworking\/documentation\/MappyNetworking\/EndpointKind"},{"type":"text","text":" because we need to make secured network calls byt passing a token into the request header."}]}],"mediaPosition":"trailing"}],"stepsSection":[{"code":null,"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Add an extension to "},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.mappy.MappyNetworking\/documentation\/MappyNetworking\/EndpointKinds"},{"type":"text","text":"."}]}],"caption":[],"type":"step","runtimePreview":null,"media":""},{"code":null,"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Add an enum conforming to "},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.mappy.MappyNetworking\/documentation\/MappyNetworking\/EndpointKind"},{"type":"text","text":"."}]}],"caption":[],"type":"step","runtimePreview":null,"media":""},{"code":null,"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Add the necessary stubs for the protocol "},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.mappy.MappyNetworking\/documentation\/MappyNetworking\/EndpointKind"},{"type":"text","text":"."},{"type":"text","text":" "},{"type":"text","text":"We need a string as request data. It is the token we pass into the request header."},{"type":"text","text":" "},{"type":"text","text":"We don’t need any object as response data in the "},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.mappy.MappyNetworking\/documentation\/MappyNetworking\/EndpointKind\/process(_:with:)"},{"type":"text","text":" mothod so we pass Void."}]}],"caption":[],"type":"step","runtimePreview":null,"media":""}]},{"anchor":"Add-new-end-points","title":"Add new end-points","contentSection":[{"kind":"contentAndMedia","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"import framework"}]}],"mediaPosition":"trailing","media":""}],"stepsSection":[{"code":null,"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Create a host by creating an object conforming to "},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.mappy.MappyNetworking\/documentation\/MappyNetworking\/EndpointHost"}]}],"caption":[],"type":"step","runtimePreview":null,"media":""},{"code":null,"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Extend "},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.mappy.MappyNetworking\/documentation\/MappyNetworking\/Endpoint"},{"type":"text","text":" with a static method returning Self."}]}],"caption":[],"type":"step","runtimePreview":null,"media":""},{"code":null,"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Define a endpoint kind by extending "},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.mappy.MappyNetworking\/documentation\/MappyNetworking\/EndpointKinds"},{"type":"text","text":". You must create an enum that conforms to "},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.mappy.MappyNetworking\/documentation\/MappyNetworking\/EndpointKind"},{"type":"text","text":" ."}]}],"caption":[],"type":"step","runtimePreview":null,"media":""},{"code":null,"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Create a host by creating an object conforming to "},{"type":"codeVoice","code":"EndpointHost"}]}],"caption":[],"type":"step","runtimePreview":null,"media":""}]}]}],"identifier":{"url":"doc:\/\/com.mappy.MappyNetworking\/tutorials\/MappyNetworking\/CreateNewEndpoint","interfaceLanguage":"swift"},"kind":"project","metadata":{"title":"Add new end points to your project","categoryPathComponent":"Tutorial-Table-of-Contents","role":"project","category":"Tutorials"},"hierarchy":{"modules":[{"reference":"doc:\/\/com.mappy.MappyNetworking\/tutorials\/Tutorial-Table-of-Contents\/Adding-endpoints","projects":[{"reference":"doc:\/\/com.mappy.MappyNetworking\/tutorials\/MappyNetworking\/CreateNewEndpoint","sections":[{"kind":"task","reference":"doc:\/\/com.mappy.MappyNetworking\/tutorials\/MappyNetworking\/CreateNewEndpoint#Create-a-new-host"},{"kind":"task","reference":"doc:\/\/com.mappy.MappyNetworking\/tutorials\/MappyNetworking\/CreateNewEndpoint#Create-a-end-point-type-for-secured-network-calls"},{"kind":"task","reference":"doc:\/\/com.mappy.MappyNetworking\/tutorials\/MappyNetworking\/CreateNewEndpoint#Create-a-new-end-point"},{"kind":"task","reference":"doc:\/\/com.mappy.MappyNetworking\/tutorials\/MappyNetworking\/CreateNewEndpoint#Create-a-service-class-and-make-a-network-call-with-our-new-end-point"},{"kind":"task","reference":"doc:\/\/com.mappy.MappyNetworking\/tutorials\/MappyNetworking\/CreateNewEndpoint#Add-new-end-points"}]}]}],"reference":"doc:\/\/com.mappy.MappyNetworking\/tutorials\/Tutorial-Table-of-Contents","paths":[["doc:\/\/com.mappy.MappyNetworking\/tutorials\/Tutorial-Table-of-Contents","doc:\/\/com.mappy.MappyNetworking\/tutorials\/Tutorial-Table-of-Contents\/$volume","doc:\/\/com.mappy.MappyNetworking\/tutorials\/Tutorial-Table-of-Contents\/Adding-endpoints"]]},"references":{"doc://com.mappy.MappyNetworking/documentation/MappyNetworking/EndpointHost":{"role":"symbol","title":"EndpointHost","fragments":[{"kind":"keyword","text":"protocol"},{"kind":"text","text":" "},{"kind":"identifier","text":"EndpointHost"}],"abstract":[{"type":"text","text":"When creating a new endpoint you will be requiered to provide an object conforming to "},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.mappy.MappyNetworking\/documentation\/MappyNetworking\/EndpointHost"},{"type":"text","text":"."},{"type":"text","text":" "},{"type":"text","text":"The conforming object will implement a host method which will later be used to build the URL."}],"identifier":"doc:\/\/com.mappy.MappyNetworking\/documentation\/MappyNetworking\/EndpointHost","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"EndpointHost"}],"url":"\/documentation\/mappynetworking\/endpointhost"},"doc://com.mappy.MappyNetworking/documentation/MappyNetworking/EndpointKind":{"role":"symbol","title":"EndpointKind","fragments":[{"kind":"keyword","text":"protocol"},{"kind":"text","text":" "},{"kind":"identifier","text":"EndpointKind"}],"abstract":[{"type":"text","text":"Implements two methods offering the opportunity to modify the netwok request"},{"type":"text","text":" "},{"type":"text","text":"before and to retrieve info from the response header."}],"identifier":"doc:\/\/com.mappy.MappyNetworking\/documentation\/MappyNetworking\/EndpointKind","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"EndpointKind"}],"url":"\/documentation\/mappynetworking\/endpointkind"},"doc://com.mappy.MappyNetworking/documentation/MappyNetworking/EndpointKind/process(_:with:)":{"role":"symbol","title":"process(_:with:)","fragments":[{"kind":"keyword","text":"static"},{"kind":"text","text":" "},{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"process"},{"kind":"text","text":"("},{"kind":"typeIdentifier","text":"ResponseData","preciseIdentifier":"s:15MappyNetworking12EndpointKindP12ResponseDataQa"},{"kind":"text","text":", "},{"kind":"externalParam","text":"with"},{"kind":"text","text":": (response"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"HTTPURLResponse","preciseIdentifier":"c:objc(cs)NSHTTPURLResponse"},{"kind":"text","text":", data"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"Data","preciseIdentifier":"s:10Foundation4DataV"},{"kind":"text","text":"))"}],"abstract":[{"type":"text","text":"This method gets called upon networking call response and"},{"type":"text","text":" "},{"type":"text","text":"offers a chance to manipulate the response and its associated data."}],"identifier":"doc:\/\/com.mappy.MappyNetworking\/documentation\/MappyNetworking\/EndpointKind\/process(_:with:)","kind":"symbol","required":true,"type":"topic","url":"\/documentation\/mappynetworking\/endpointkind\/process(_:with:)"},"doc://com.mappy.MappyNetworking/tutorials/MappyNetworking/CreateNewEndpoint#Create-a-service-class-and-make-a-network-call-with-our-new-end-point":{"role":"pseudoSymbol","title":"Create a service class and make a network call with our new end-point","abstract":[{"type":"text","text":"In this tutorial we will pretend we need to implement a new end point to retrieve an array of FeedItems used to populate a social network feed. Since the feed is only accessible to logged-in members we need a way to make secured calls by passing a token in the request. We also need to be able to specify how many items we want to retrieve."}],"identifier":"doc:\/\/com.mappy.MappyNetworking\/tutorials\/MappyNetworking\/CreateNewEndpoint#Create-a-service-class-and-make-a-network-call-with-our-new-end-point","kind":"section","type":"section","url":"\/tutorials\/mappynetworking\/createnewendpoint#Create-a-service-class-and-make-a-network-call-with-our-new-end-point"},"doc://com.mappy.MappyNetworking/documentation/MappyNetworking/Endpoint":{"role":"symbol","title":"Endpoint","fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"Endpoint"}],"abstract":[{"type":"text","text":"Endpoint is constructed with phantom types and requires the user to specify an "},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.mappy.MappyNetworking\/documentation\/MappyNetworking\/EndpointHost"},{"type":"text","text":", and "},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.mappy.MappyNetworking\/documentation\/MappyNetworking\/EndpointKind"},{"type":"text","text":"and a Response."},{"type":"text","text":" "},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.mappy.MappyNetworking\/documentation\/MappyNetworking\/EndpointHost"},{"type":"text","text":" will be used to construct the acutal URL. Kind specifies how the users wants the endpoint to operate,"},{"type":"text","text":" "},{"type":"text","text":"it provides a chance to perform some specific configuration or processing. Response specifies the expected response type."}],"identifier":"doc:\/\/com.mappy.MappyNetworking\/documentation\/MappyNetworking\/Endpoint","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"Endpoint"}],"url":"\/documentation\/mappynetworking\/endpoint"},"doc://com.mappy.MappyNetworking/tutorials/Tutorial-Table-of-Contents":{"role":"overview","title":"Hey","abstract":[{"type":"text","text":"Hey welcome to tutorials."}],"identifier":"doc:\/\/com.mappy.MappyNetworking\/tutorials\/Tutorial-Table-of-Contents","kind":"overview","type":"topic","url":"\/tutorials\/tutorial-table-of-contents"},"doc://com.mappy.MappyNetworking/tutorials/MappyNetworking/CreateNewEndpoint#Create-a-end-point-type-for-secured-network-calls":{"role":"pseudoSymbol","title":"Create a end-point type for secured network calls","abstract":[{"type":"text","text":"In this tutorial we will pretend we need to implement a new end point to retrieve an array of FeedItems used to populate a social network feed. Since the feed is only accessible to logged-in members we need a way to make secured calls by passing a token in the request. We also need to be able to specify how many items we want to retrieve."}],"identifier":"doc:\/\/com.mappy.MappyNetworking\/tutorials\/MappyNetworking\/CreateNewEndpoint#Create-a-end-point-type-for-secured-network-calls","kind":"section","type":"section","url":"\/tutorials\/mappynetworking\/createnewendpoint#Create-a-end-point-type-for-secured-network-calls"},"doc://com.mappy.MappyNetworking/tutorials/MappyNetworking/CreateNewEndpoint#Add-new-end-points":{"role":"pseudoSymbol","title":"Add new end-points","abstract":[{"type":"text","text":"In this tutorial we will pretend we need to implement a new end point to retrieve an array of FeedItems used to populate a social network feed. Since the feed is only accessible to logged-in members we need a way to make secured calls by passing a token in the request. We also need to be able to specify how many items we want to retrieve."}],"identifier":"doc:\/\/com.mappy.MappyNetworking\/tutorials\/MappyNetworking\/CreateNewEndpoint#Add-new-end-points","kind":"section","type":"section","url":"\/tutorials\/mappynetworking\/createnewendpoint#Add-new-end-points"},"doc://com.mappy.MappyNetworking/tutorials/MappyNetworking/CreateNewEndpoint#Create-a-new-end-point":{"role":"pseudoSymbol","title":"Create a new end-point","abstract":[{"type":"text","text":"In this tutorial we will pretend we need to implement a new end point to retrieve an array of FeedItems used to populate a social network feed. Since the feed is only accessible to logged-in members we need a way to make secured calls by passing a token in the request. We also need to be able to specify how many items we want to retrieve."}],"identifier":"doc:\/\/com.mappy.MappyNetworking\/tutorials\/MappyNetworking\/CreateNewEndpoint#Create-a-new-end-point","kind":"section","type":"section","url":"\/tutorials\/mappynetworking\/createnewendpoint#Create-a-new-end-point"},"doc://com.mappy.MappyNetworking/documentation/MappyNetworking/EndpointKinds":{"role":"symbol","title":"EndpointKinds","fragments":[{"kind":"keyword","text":"enum"},{"kind":"text","text":" "},{"kind":"identifier","text":"EndpointKinds"}],"abstract":[{"type":"text","text":"Defines the available types of endpoints available."}],"identifier":"doc:\/\/com.mappy.MappyNetworking\/documentation\/MappyNetworking\/EndpointKinds","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"EndpointKinds"}],"url":"\/documentation\/mappynetworking\/endpointkinds"},"doc://com.mappy.MappyNetworking/tutorials/MappyNetworking/CreateNewEndpoint":{"role":"project","title":"Add new end points to your project","estimatedTime":"20min","abstract":[{"type":"text","text":"In this tutorial we will pretend we need to implement a new end point to retrieve an array of FeedItems used to populate a social network feed. Since the feed is only accessible to logged-in members we need a way to make secured calls by passing a token in the request. We also need to be able to specify how many items we want to retrieve."}],"identifier":"doc:\/\/com.mappy.MappyNetworking\/tutorials\/MappyNetworking\/CreateNewEndpoint","kind":"project","type":"topic","url":"\/tutorials\/mappynetworking\/createnewendpoint"},"doc://com.mappy.MappyNetworking/tutorials/MappyNetworking/CreateNewEndpoint#Create-a-new-host":{"role":"pseudoSymbol","title":"Create a new host","abstract":[{"type":"text","text":"In this tutorial we will pretend we need to implement a new end point to retrieve an array of FeedItems used to populate a social network feed. Since the feed is only accessible to logged-in members we need a way to make secured calls by passing a token in the request. We also need to be able to specify how many items we want to retrieve."}],"identifier":"doc:\/\/com.mappy.MappyNetworking\/tutorials\/MappyNetworking\/CreateNewEndpoint#Create-a-new-host","kind":"section","type":"section","url":"\/tutorials\/mappynetworking\/createnewendpoint#Create-a-new-host"},"doc://com.mappy.MappyNetworking/tutorials/Tutorial-Table-of-Contents/Adding-endpoints":{"role":"article","title":"Adding endpoints","abstract":[],"identifier":"doc:\/\/com.mappy.MappyNetworking\/tutorials\/Tutorial-Table-of-Contents\/Adding-endpoints","kind":"article","type":"topic","url":"\/tutorials\/tutorial-table-of-contents\/adding-endpoints"}}}